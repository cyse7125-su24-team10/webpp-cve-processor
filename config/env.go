package config

import (
	"os"

	"github.com/joho/godotenv"
)

type Config struct {
	KafkaUser     string
	KafkaPassword string
	KafkaBroker0  string
	KafkaBroker1  string
	KafkaBroker2  string
	URL           string
}

var Envs = initConfig()

func initConfig() Config {
	_ = godotenv.Load()

	return Config{
		KafkaUser:     GetEnv("KAFKA_USER"),
		KafkaPassword: GetEnv("KAFKA_PASSWORD"),
		KafkaBroker0:  GetEnv("KAFKA_BROKER_0"),
		KafkaBroker1:  GetEnv("KAFKA_BROKER_1"),
		KafkaBroker2:  GetEnv("KAFKA_BROKER_2"),
		URL:           GetEnv("URL"),
	}
}

func GetEnv(key string) string {
	value := os.Getenv(key)
	if value != "" {
		return value
	}
	return ""
}
